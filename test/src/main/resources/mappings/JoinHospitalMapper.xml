<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.todoc.hosMain.dao.JoinHospitalDAO">
	<!-- 병원 정보 1개 조회 -->
	<select id="selectOne" parameterType="int" resultType="JoinHospitalVO">
		SELECT *
		FROM HOSPITAL H, HOSADDRESS HA
		WHERE H.HOSIDX = HA.HOSIDX
		AND H.HOSIDX = #{hosidx}
	</select>
	
	<!-- 병원 전체 조회 -->
	<select id="selectList" resultType="JoinHospitalVO">
		SELECT *
		FROM HOSPITAL H, HOSADDRESS HA
		WHERE H.HOSIDX = HA.HOSIDX
		ORDER BY H.HOSIDX DESC
	</select>
	
  	<!-- 동적처리(병원 정보 조회) -->
<!--   	<select id="selectList" resultType="JoinHospitalVO"> -->
<!--   		SELECT * -->
<!--   		FROM HOSPITAL H, HOSADDRESS HA -->
<!--   		<if test="searchCondition == 'NAME' and searchKeyword != ''"> -->
<!--   		WHERE H.HOSNAME LIKE '%' || #{searchKeyword} || '%' -->
<!--   		</if> -->
<!--   		<if test="searchCondition == 'ADDRESS' and searchKeyword != ''"> -->
<!--   		WHERE HA.ADDRESSNAME LIKE '%' || #{searchKeyword} || '%' -->
<!--   		OR HA.ROADADDRESSNAME LIKE '%' || #{searchKeyword} || '%' -->
<!--   		</if> -->
<!--   		ORDER BY H.HOSIDX DESC -->
<!--   	</select>  -->
</mapper>