<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.todoc.hospital.dao.TimeCheckMapper">
	<insert id="insertTime">
		INSERT INTO HOSTIME(HOSIDX, OPENTIME, CLOSETIME, LUNCHTIME, ENDLUNCHTIME
						, SATOPENTIME, SATCLOSETIME, SATLUNCHTIME, SATENDLUNCHTIME
						, SUNOPENTIME, SUNCLOSETIME, SUNLUNCHTIME, SUNENDLUNCHTIME)
		VALUES((SELECT MAX(NVL(HOSIDX, 0)) + 1 FROM HOSTIME)
				, TO_DATE('1970-01-01 ' || #{validOpenTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validCloseTime}, 'YYYY-MM-DD HH24:MI:SS')
				, TO_DATE('1970-01-01 ' || #{validLunchTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validEndLunchTime}, 'YYYY-MM-DD HH24:MI:SS')
				, TO_DATE('1970-01-01 ' || #{validSatOpenTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validSatCloseTime}, 'YYYY-MM-DD HH24:MI:SS')
				, TO_DATE('1970-01-01 ' || #{validSatLunchTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validSatEndLunchTime}, 'YYYY-MM-DD HH24:MI:SS')
				, TO_DATE('1970-01-01 ' || #{validSunOpenTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validSunCloseTime}, 'YYYY-MM-DD HH24:MI:SS')
				, TO_DATE('1970-01-01 ' || #{validSunLunchTime}, 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('1970-01-01 ' || #{validSunEndLunchTime}, 'YYYY-MM-DD HH24:MI:SS')
				)
	</insert>
	
		<!-- 	병원정보수정HOSTIME -->
	<update id="updateHosTime" parameterType="HospitalVO">
		UPDATE HOSTIME
		SET OPENTIME = #{openTime}, CLOSETIME = #{closeTime},
			LUNCHTIME = #{lunchTime}, ENDLUNCHTIME = #{endLunchTime},
			SATOPENTIME = #{satOpenTime}, SATCLOSETIME = #{satCloseTime},
			SATLUNCHTIME = #{satLunchTime}, SATENDLUNCHTIME = #{satEndLunchTime},
			SUNOPENTIME = #{sunOpenTime}, SUNCLOSETIME = #{sunCloseTime}, 
			SUNLUNCHTIME = #{sunLunchTime}, SUNENDLUNCHTIME = #{sunEndLunchTime}
		WHERE HOSIDX = #{hosIdx}
	</update>
	
</mapper>